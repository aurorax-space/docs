<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>pyaurorax.api API documentation</title>
<meta name="description" content="This module is the under-the-hood interface for RESTful API
requests. It provides helper functions that the PyAuroraX library
uses to make robust …" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}#lunr-search{width:100%;font-size:1em;padding:6px 9px 5px 9px;border:1px solid silver}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>pyaurorax.api</code></h1>
</header>
<section id="section-intro">
<p>This module is the under-the-hood interface for RESTful API
requests. It provides helper functions that the PyAuroraX library
uses to make robust requests.</p>
<p>Note that all functions and classes from submodules are all imported
at this level of the api module. They can be referenced from here
instead of digging in deeper to the submodules.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
This module is the under-the-hood interface for RESTful API
requests. It provides helper functions that the PyAuroraX library
uses to make robust requests.

Note that all functions and classes from submodules are all imported
at this level of the api module. They can be referenced from here
instead of digging in deeper to the submodules.
&#34;&#34;&#34;

# endpoint URLs
DEFAULT_BASE_URL: str = &#34;https://api.aurorax.space&#34;
&#34;&#34;&#34; The default API base URL to use when sending requests &#34;&#34;&#34;

# function and class imports
from .classes.request import (DEFAULT_RETRIES,
                              REQUEST_HEADERS,
                              REQUEST_TIMEOUT,
                              API_KEY_HEADER_NAME,
                              AuroraXRequest)
from .classes.response import AuroraXResponse
from .api import (urls,
                  get_api_key,
                  authenticate,
                  set_base_url,
                  get_base_url,
                  reset_base_url)

# pdoc import and exports
from .api import __pdoc__ as __api_pdoc__
from .classes.request import __pdoc__ as __classes_request_pdoc__
from .classes.response import __pdoc__ as __classes_response_pdoc__
__pdoc__ = __api_pdoc__
__pdoc__ = dict(__pdoc__, **__classes_request_pdoc__)
__pdoc__ = dict(__pdoc__, **__classes_response_pdoc__)
__all__ = [
    &#34;DEFAULT_BASE_URL&#34;,
    &#34;DEFAULT_RETRIES&#34;,
    &#34;REQUEST_HEADERS&#34;,
    &#34;REQUEST_TIMEOUT&#34;,
    &#34;API_KEY_HEADER_NAME&#34;,
    &#34;AuroraXRequest&#34;,
    &#34;AuroraXResponse&#34;,
    &#34;urls&#34;,
    &#34;get_api_key&#34;,
    &#34;authenticate&#34;,
    &#34;set_base_url&#34;,
    &#34;get_base_url&#34;,
    &#34;reset_base_url&#34;,
]</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="pyaurorax.api.api" href="api.html">pyaurorax.api.api</a></code></dt>
<dd>
<div class="desc"><p>Helper functions when interacting with the API</p></div>
</dd>
<dt><code class="name"><a title="pyaurorax.api.classes" href="classes/index.html">pyaurorax.api.classes</a></code></dt>
<dd>
<div class="desc"><p>Separted classes and functions used by the api module …</p></div>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-variables">Global variables</h2>
<dl>
<dt id="pyaurorax.api.DEFAULT_BASE_URL"><code class="name">var <span class="ident">DEFAULT_BASE_URL</span> : str</code></dt>
<dd>
<div class="desc"><p>The default API base URL to use when sending requests</p></div>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="pyaurorax.api.authenticate"><code class="name flex">
<span>def <span class="ident">authenticate</span></span>(<span>api_key: str) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Set authentication values for use with subsequent queries</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>api_key</code></strong></dt>
<dd>an AuroraX API key string</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def authenticate(api_key: str) -&gt; None:
    &#34;&#34;&#34;
    Set authentication values for use with subsequent queries

    Args:
        api_key: an AuroraX API key string
    &#34;&#34;&#34;
    global __api_key
    __api_key = api_key</code></pre>
</details>
</dd>
<dt id="pyaurorax.api.get_api_key"><code class="name flex">
<span>def <span class="ident">get_api_key</span></span>(<span>) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Returns the currently set API key for the module</p>
<h2 id="returns">Returns</h2>
<p>current API key</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_api_key() -&gt; str:
    &#34;&#34;&#34;
    Returns the currently set API key for the module

    Returns:
        current API key
    &#34;&#34;&#34;
    return __api_key</code></pre>
</details>
</dd>
<dt id="pyaurorax.api.get_base_url"><code class="name flex">
<span>def <span class="ident">get_base_url</span></span>(<span>) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Returns the current base URL for the API</p>
<h2 id="returns">Returns</h2>
<p>current base URL</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_base_url() -&gt; str:
    &#34;&#34;&#34;
    Returns the current base URL for the API

    Returns:
        current base URL
    &#34;&#34;&#34;
    return urls.base_url</code></pre>
</details>
</dd>
<dt id="pyaurorax.api.reset_base_url"><code class="name flex">
<span>def <span class="ident">reset_base_url</span></span>(<span>) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Set the base URL for the API back to the default</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def reset_base_url() -&gt; None:
    &#34;&#34;&#34;
    Set the base URL for the API back to the default
    &#34;&#34;&#34;
    urls.base_url = DEFAULT_BASE_URL</code></pre>
</details>
</dd>
<dt id="pyaurorax.api.set_base_url"><code class="name flex">
<span>def <span class="ident">set_base_url</span></span>(<span>url: str) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Change the base URL for the API (ie. change to the staging
system or local server)</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>url</code></strong></dt>
<dd>the new base url string (ie. 'https://api.staging.aurorax.space')</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_base_url(url: str) -&gt; None:
    &#34;&#34;&#34;
    Change the base URL for the API (ie. change to the staging
    system or local server)

    Args:
        url: the new base url string (ie. &#39;https://api.staging.aurorax.space&#39;)
    &#34;&#34;&#34;
    urls.base_url = url</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="pyaurorax.api.AuroraXRequest"><code class="flex name class">
<span>class <span class="ident">AuroraXRequest</span></span>
<span>(</span><span>**data: Any)</span>
</code></dt>
<dd>
<div class="desc"><p>AuroraX API request class</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>url</code></strong></dt>
<dd>the URL to make the request against</dd>
<dt><strong><code>method</code></strong></dt>
<dd>the HTTP method to use (get, post, put, delete, etc.)</dd>
<dt><strong><code>params</code></strong></dt>
<dd>any URL parameters to send in the request, defaults to {}</dd>
<dt><strong><code>body</code></strong></dt>
<dd>the body of the request (ie. post data), defaults to {}</dd>
<dt><strong><code>headers</code></strong></dt>
<dd>any headers to send as part of the request (in addition to the default ones), default is {}</dd>
<dt><strong><code>null_response</code></strong></dt>
<dd>signifies if we expect a response from the API that has no
body/data in it (ie. requests to upload data that respond with just a
202 status code), defaults to False</dd>
</dl>
<p>Create a new model by parsing and validating input data from keyword arguments.</p>
<p>Raises ValidationError if the input data cannot be parsed to form a valid model.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AuroraXRequest(BaseModel):
    &#34;&#34;&#34;
    AuroraX API request class

    Attributes:
        url: the URL to make the request against
        method: the HTTP method to use (get, post, put, delete, etc.)
        params: any URL parameters to send in the request, defaults to {}
        body: the body of the request (ie. post data), defaults to {}
        headers: any headers to send as part of the request (in addition to the default ones), default is {}
        null_response: signifies if we expect a response from the API that has no
            body/data in it (ie. requests to upload data that respond with just a
            202 status code), defaults to False
    &#34;&#34;&#34;
    url: str
    method: str
    params: Optional[Dict] = {}
    body: Union[Optional[Dict], Optional[List]] = {}
    headers: Optional[Dict] = {}
    null_response: Optional[bool] = False

    def __merge_headers(self):
        # set initial headers
        all_headers = REQUEST_HEADERS

        # add headers passed into the class
        for key, value in self.headers.items():
            all_headers[key] = value

        # add api key
        api_key = get_api_key()
        if api_key:
            all_headers[API_KEY_HEADER_NAME] = api_key

        # return
        return all_headers

    def execute(self,
                limited_evaluation: Optional[bool] = False,
                skip_retry_logic: Optional[bool] = False) -&gt; AuroraXResponse:
        &#34;&#34;&#34;
        Execute an AuroraX request

        Args:
            limited_evaluation: don&#39;t evaluate the response after the retry
                mechanism, defaults to False
            skip_retry_logic: exclude the retry logic in the request, defaults
                to False

        Returns:
            an AuroraXResponse object

        Raises:
            pyaurorax.exceptions.AuroraXMaxRetriesException: max retry error
            pyaurorax.exceptions.AuroraXNotFoundException: requested resource was not found
            pyaurorax.exceptions.AuroraXUnexpectedContentTypeException: unexpected content error
            pyaurorax.exceptions.AuroraXUnexpectedEmptyResponse: unexpected empty response
            pyaurorax.exceptions.AuroraXUnauthorizedException: invalid API key for this operation
        &#34;&#34;&#34;
        # sanitize data
        body_santized = json.dumps(self.body, default=json_converter)

        # make request
        try:
            req = requests.request(self.method,
                                   self.url,
                                   headers=self.__merge_headers(),
                                   params=self.params,
                                   data=body_santized,
                                   timeout=REQUEST_TIMEOUT)
        except requests.exceptions.Timeout:
            raise AuroraXTimeoutException(&#34;Error 408: request timeout reached&#34;)

        # retry request if needed
        if (skip_retry_logic is False):
            for i in range(0, DEFAULT_RETRIES):
                if (req.status_code == 500 and &#34;text/plain&#34; in req.headers[&#34;Content-Type&#34;]):
                    if (i == (DEFAULT_RETRIES - 1)):
                        raise AuroraXMaxRetriesException(&#34;%s (%s)&#34; % (req.content.decode(),
                                                                      req.status_code))
                    try:
                        req = requests.request(self.method,
                                               self.url,
                                               headers=self.__merge_headers(),
                                               params=self.params,
                                               json=self.body,
                                               data=body_santized,
                                               timeout=REQUEST_TIMEOUT)
                    except requests.exceptions.Timeout:
                        raise AuroraXTimeoutException(&#34;Error 408: request timeout reached&#34;)
                else:
                    break

        # check if authorization worked (raised by API or by Nginx)
        if (req.status_code == 401):
            if (req.headers[&#34;Content-Type&#34;] == &#34;application/json&#34;):
                if (&#34;error_message&#34; in req.json()):
                    # this will be an error message that the API meant to send
                    raise AuroraXUnauthorizedException(&#34;%s %s&#34; % (req.status_code,
                                                                  req.json()[&#34;error_message&#34;]))
                else:
                    raise AuroraXUnauthorizedException(&#34;Error 401: unauthorized&#34;)
            else:
                raise AuroraXUnauthorizedException(&#34;Error 401: unauthorized&#34;)

        # check for 404 error (raised by API or by Nginx)
        if (req.status_code == 404):
            if (req.headers[&#34;Content-Type&#34;] == &#34;application/json&#34;):
                if (&#34;error_message&#34; in req.json()):
                    # this will be an error message that the API meant to send
                    raise AuroraXNotFoundException(&#34;%s %s&#34; % (req.status_code,
                                                              req.json()[&#34;error_message&#34;]))
                else:
                    # this will likely be a 404 from the java servlet
                    raise AuroraXNotFoundException(&#34;Error 404: not found&#34;)
            else:
                raise AuroraXNotFoundException(&#34;Error 404: not found&#34;)

        # check if we only want to do limited evaluation
        if (limited_evaluation is True):
            res = AuroraXResponse(request=req,
                                  data=None,
                                  status_code=req.status_code)
            return res

        # check content type
        if (self.null_response is False):
            if (req.headers[&#34;Content-Type&#34;] == &#34;application/json&#34;):
                if (len(req.content) == 0):
                    raise AuroraXUnexpectedEmptyResponse(&#34;No response received&#34;)
                else:
                    response_data = req.json()
            else:
                raise AuroraXUnexpectedContentTypeException(&#34;%s (%s)&#34; % (req.content.decode(),
                                                                         req.status_code))
        else:
            if (req.status_code in [200, 201, 202, 204]):
                response_data = None
            else:
                response_data = req.json()

        # check for server error
        if (req.status_code == 500):
            response_json = req.json()
            if (&#34;error_message&#34; in response_json):
                raise AuroraXException(&#34;%s (%s)&#34; % (response_json[&#34;error_message&#34;],
                                                    req.status_code))
            else:
                raise AuroraXException(response_json)

        # create response object
        res = AuroraXResponse(request=req,
                              data=response_data,
                              status_code=req.status_code)

        # return
        return res

    def __str__(self) -&gt; str:
        &#34;&#34;&#34;
        String method

        Returns:
            string format of AuroraXRequest
        &#34;&#34;&#34;
        return self.__repr__()

    def __repr__(self) -&gt; str:
        &#34;&#34;&#34;
        Object representation

        Returns:
            object representation of AuroraXRequest
        &#34;&#34;&#34;
        return f&#34;AuroraXRequest(method=&#39;{self.method}&#39;, url=&#39;{self.url}&#39;)&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pydantic.main.BaseModel</li>
<li>pydantic.utils.Representation</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="pyaurorax.api.AuroraXRequest.body"><code class="name">var <span class="ident">body</span> : Union[Dict, ForwardRef(None), List]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyaurorax.api.AuroraXRequest.headers"><code class="name">var <span class="ident">headers</span> : Optional[Dict]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyaurorax.api.AuroraXRequest.method"><code class="name">var <span class="ident">method</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyaurorax.api.AuroraXRequest.null_response"><code class="name">var <span class="ident">null_response</span> : Optional[bool]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyaurorax.api.AuroraXRequest.params"><code class="name">var <span class="ident">params</span> : Optional[Dict]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyaurorax.api.AuroraXRequest.url"><code class="name">var <span class="ident">url</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="pyaurorax.api.AuroraXRequest.execute"><code class="name flex">
<span>def <span class="ident">execute</span></span>(<span>self, limited_evaluation: Optional[bool] = False, skip_retry_logic: Optional[bool] = False) ‑> <a title="pyaurorax.api.classes.response.AuroraXResponse" href="classes/response.html#pyaurorax.api.classes.response.AuroraXResponse">AuroraXResponse</a></span>
</code></dt>
<dd>
<div class="desc"><p>Execute an AuroraX request</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>limited_evaluation</code></strong></dt>
<dd>don't evaluate the response after the retry
mechanism, defaults to False</dd>
<dt><strong><code>skip_retry_logic</code></strong></dt>
<dd>exclude the retry logic in the request, defaults
to False</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>an AuroraXResponse object</p>
<h2 id="raises">Raises</h2>
<dl>
<dt><code><a title="pyaurorax.exceptions.AuroraXMaxRetriesException" href="../exceptions.html#pyaurorax.exceptions.AuroraXMaxRetriesException">AuroraXMaxRetriesException</a></code></dt>
<dd>max retry error</dd>
<dt><code><a title="pyaurorax.exceptions.AuroraXNotFoundException" href="../exceptions.html#pyaurorax.exceptions.AuroraXNotFoundException">AuroraXNotFoundException</a></code></dt>
<dd>requested resource was not found</dd>
<dt><code><a title="pyaurorax.exceptions.AuroraXUnexpectedContentTypeException" href="../exceptions.html#pyaurorax.exceptions.AuroraXUnexpectedContentTypeException">AuroraXUnexpectedContentTypeException</a></code></dt>
<dd>unexpected content error</dd>
<dt><code><a title="pyaurorax.exceptions.AuroraXUnexpectedEmptyResponse" href="../exceptions.html#pyaurorax.exceptions.AuroraXUnexpectedEmptyResponse">AuroraXUnexpectedEmptyResponse</a></code></dt>
<dd>unexpected empty response</dd>
<dt><code><a title="pyaurorax.exceptions.AuroraXUnauthorizedException" href="../exceptions.html#pyaurorax.exceptions.AuroraXUnauthorizedException">AuroraXUnauthorizedException</a></code></dt>
<dd>invalid API key for this operation</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def execute(self,
            limited_evaluation: Optional[bool] = False,
            skip_retry_logic: Optional[bool] = False) -&gt; AuroraXResponse:
    &#34;&#34;&#34;
    Execute an AuroraX request

    Args:
        limited_evaluation: don&#39;t evaluate the response after the retry
            mechanism, defaults to False
        skip_retry_logic: exclude the retry logic in the request, defaults
            to False

    Returns:
        an AuroraXResponse object

    Raises:
        pyaurorax.exceptions.AuroraXMaxRetriesException: max retry error
        pyaurorax.exceptions.AuroraXNotFoundException: requested resource was not found
        pyaurorax.exceptions.AuroraXUnexpectedContentTypeException: unexpected content error
        pyaurorax.exceptions.AuroraXUnexpectedEmptyResponse: unexpected empty response
        pyaurorax.exceptions.AuroraXUnauthorizedException: invalid API key for this operation
    &#34;&#34;&#34;
    # sanitize data
    body_santized = json.dumps(self.body, default=json_converter)

    # make request
    try:
        req = requests.request(self.method,
                               self.url,
                               headers=self.__merge_headers(),
                               params=self.params,
                               data=body_santized,
                               timeout=REQUEST_TIMEOUT)
    except requests.exceptions.Timeout:
        raise AuroraXTimeoutException(&#34;Error 408: request timeout reached&#34;)

    # retry request if needed
    if (skip_retry_logic is False):
        for i in range(0, DEFAULT_RETRIES):
            if (req.status_code == 500 and &#34;text/plain&#34; in req.headers[&#34;Content-Type&#34;]):
                if (i == (DEFAULT_RETRIES - 1)):
                    raise AuroraXMaxRetriesException(&#34;%s (%s)&#34; % (req.content.decode(),
                                                                  req.status_code))
                try:
                    req = requests.request(self.method,
                                           self.url,
                                           headers=self.__merge_headers(),
                                           params=self.params,
                                           json=self.body,
                                           data=body_santized,
                                           timeout=REQUEST_TIMEOUT)
                except requests.exceptions.Timeout:
                    raise AuroraXTimeoutException(&#34;Error 408: request timeout reached&#34;)
            else:
                break

    # check if authorization worked (raised by API or by Nginx)
    if (req.status_code == 401):
        if (req.headers[&#34;Content-Type&#34;] == &#34;application/json&#34;):
            if (&#34;error_message&#34; in req.json()):
                # this will be an error message that the API meant to send
                raise AuroraXUnauthorizedException(&#34;%s %s&#34; % (req.status_code,
                                                              req.json()[&#34;error_message&#34;]))
            else:
                raise AuroraXUnauthorizedException(&#34;Error 401: unauthorized&#34;)
        else:
            raise AuroraXUnauthorizedException(&#34;Error 401: unauthorized&#34;)

    # check for 404 error (raised by API or by Nginx)
    if (req.status_code == 404):
        if (req.headers[&#34;Content-Type&#34;] == &#34;application/json&#34;):
            if (&#34;error_message&#34; in req.json()):
                # this will be an error message that the API meant to send
                raise AuroraXNotFoundException(&#34;%s %s&#34; % (req.status_code,
                                                          req.json()[&#34;error_message&#34;]))
            else:
                # this will likely be a 404 from the java servlet
                raise AuroraXNotFoundException(&#34;Error 404: not found&#34;)
        else:
            raise AuroraXNotFoundException(&#34;Error 404: not found&#34;)

    # check if we only want to do limited evaluation
    if (limited_evaluation is True):
        res = AuroraXResponse(request=req,
                              data=None,
                              status_code=req.status_code)
        return res

    # check content type
    if (self.null_response is False):
        if (req.headers[&#34;Content-Type&#34;] == &#34;application/json&#34;):
            if (len(req.content) == 0):
                raise AuroraXUnexpectedEmptyResponse(&#34;No response received&#34;)
            else:
                response_data = req.json()
        else:
            raise AuroraXUnexpectedContentTypeException(&#34;%s (%s)&#34; % (req.content.decode(),
                                                                     req.status_code))
    else:
        if (req.status_code in [200, 201, 202, 204]):
            response_data = None
        else:
            response_data = req.json()

    # check for server error
    if (req.status_code == 500):
        response_json = req.json()
        if (&#34;error_message&#34; in response_json):
            raise AuroraXException(&#34;%s (%s)&#34; % (response_json[&#34;error_message&#34;],
                                                req.status_code))
        else:
            raise AuroraXException(response_json)

    # create response object
    res = AuroraXResponse(request=req,
                          data=response_data,
                          status_code=req.status_code)

    # return
    return res</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pyaurorax.api.AuroraXResponse"><code class="flex name class">
<span>class <span class="ident">AuroraXResponse</span></span>
<span>(</span><span>**data: Any)</span>
</code></dt>
<dd>
<div class="desc"><p>AuroraX API response class</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>request</code></strong></dt>
<dd>the request object</dd>
<dt><strong><code>data</code></strong></dt>
<dd>the data received as part of the request</dd>
<dt><strong><code>status_code</code></strong></dt>
<dd>the HTTP status code received when making the request</dd>
</dl>
<p>Create a new model by parsing and validating input data from keyword arguments.</p>
<p>Raises ValidationError if the input data cannot be parsed to form a valid model.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AuroraXResponse(BaseModel):
    &#34;&#34;&#34;
    AuroraX API response class

    Attributes:
        request: the request object
        data: the data received as part of the request
        status_code: the HTTP status code received when making the request
    &#34;&#34;&#34;
    request: Any
    data: Any
    status_code: int

    def __str__(self) -&gt; str:
        &#34;&#34;&#34;
        String method

        Returns:
            string format of AuroraXResponse
        &#34;&#34;&#34;
        return self.__repr__()

    def __repr__(self) -&gt; str:
        &#34;&#34;&#34;
        Object representation

        Returns:
            object representation of AuroraXResponse
        &#34;&#34;&#34;
        return f&#34;AuroraXResponse [{self.status_code}]&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pydantic.main.BaseModel</li>
<li>pydantic.utils.Representation</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="pyaurorax.api.AuroraXResponse.data"><code class="name">var <span class="ident">data</span> : Any</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyaurorax.api.AuroraXResponse.request"><code class="name">var <span class="ident">request</span> : Any</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyaurorax.api.AuroraXResponse.status_code"><code class="name">var <span class="ident">status_code</span> : int</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<form>
<input id="lunr-search" name="q" placeholder="🔎 Search ..." aria-label="Search"
disabled minlength="2">
</form>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.css" integrity="sha512-j1u8eUJ4f23xPPxwOrLUPQaCD2dwzNqqmDDcWS4deWsMv2ohLqmXXuP3hU7g8TyzbMSakP/mMqoNBYWj8AEIFg==" crossorigin>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.js" integrity="sha512-plGUER9JkeEWPPqQBE4sdLqBoQug5Ap+BCGMc7bJ8BXkm+VVj6QzkpBz5Yv2yPkkq+cqg9IpkBaGCas6uDbW8g==" crossorigin></script>
<style>
.modal-dialog iframe {
width: 100vw;
height: calc(100vh - 80px);
}
@media screen and (min-width: 700px) {
.modal-dialog iframe {
width: 70vw;
height: 80vh;
}
}
.modal-dialog .tingle-modal-box {width: auto;}
.modal-dialog .tingle-modal-box__content {padding: 0;}
</style>
<script>
const input = document.getElementById('lunr-search');
input.disabled = false;
input.form.addEventListener('submit', (ev) => {
ev.preventDefault();
const url = new URL(window.location);
url.searchParams.set('q', input.value);
history.replaceState({}, null, url.toString());
search(input.value);
});
const query = new URL(window.location).searchParams.get('q');
if (query)
search(query);
function search(query) {
const url = '../../doc-search.html#' + encodeURIComponent(query);
new tingle.modal({
cssClass: ['modal-dialog'],
onClose: () => {
const url = new URL(window.location);
url.searchParams.delete('q');
history.replaceState({}, null, url.toString());
setTimeout(() => input.focus(), 100);
}
}).setContent('<iframe src="' + url + '"></iframe>').open();
}
</script>
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="pyaurorax" href="../index.html">pyaurorax</a></code></li>
</ul>
</li>
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="pyaurorax.api.api" href="api.html">pyaurorax.api.api</a></code></li>
<li><code><a title="pyaurorax.api.classes" href="classes/index.html">pyaurorax.api.classes</a></code></li>
</ul>
</li>
<li><h3><a href="#header-variables">Global variables</a></h3>
<ul class="">
<li><code><a title="pyaurorax.api.DEFAULT_BASE_URL" href="#pyaurorax.api.DEFAULT_BASE_URL">DEFAULT_BASE_URL</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="pyaurorax.api.authenticate" href="#pyaurorax.api.authenticate">authenticate</a></code></li>
<li><code><a title="pyaurorax.api.get_api_key" href="#pyaurorax.api.get_api_key">get_api_key</a></code></li>
<li><code><a title="pyaurorax.api.get_base_url" href="#pyaurorax.api.get_base_url">get_base_url</a></code></li>
<li><code><a title="pyaurorax.api.reset_base_url" href="#pyaurorax.api.reset_base_url">reset_base_url</a></code></li>
<li><code><a title="pyaurorax.api.set_base_url" href="#pyaurorax.api.set_base_url">set_base_url</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="pyaurorax.api.AuroraXRequest" href="#pyaurorax.api.AuroraXRequest">AuroraXRequest</a></code></h4>
<ul class="two-column">
<li><code><a title="pyaurorax.api.AuroraXRequest.body" href="#pyaurorax.api.AuroraXRequest.body">body</a></code></li>
<li><code><a title="pyaurorax.api.AuroraXRequest.execute" href="#pyaurorax.api.AuroraXRequest.execute">execute</a></code></li>
<li><code><a title="pyaurorax.api.AuroraXRequest.headers" href="#pyaurorax.api.AuroraXRequest.headers">headers</a></code></li>
<li><code><a title="pyaurorax.api.AuroraXRequest.method" href="#pyaurorax.api.AuroraXRequest.method">method</a></code></li>
<li><code><a title="pyaurorax.api.AuroraXRequest.null_response" href="#pyaurorax.api.AuroraXRequest.null_response">null_response</a></code></li>
<li><code><a title="pyaurorax.api.AuroraXRequest.params" href="#pyaurorax.api.AuroraXRequest.params">params</a></code></li>
<li><code><a title="pyaurorax.api.AuroraXRequest.url" href="#pyaurorax.api.AuroraXRequest.url">url</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pyaurorax.api.AuroraXResponse" href="#pyaurorax.api.AuroraXResponse">AuroraXResponse</a></code></h4>
<ul class="">
<li><code><a title="pyaurorax.api.AuroraXResponse.data" href="#pyaurorax.api.AuroraXResponse.data">data</a></code></li>
<li><code><a title="pyaurorax.api.AuroraXResponse.request" href="#pyaurorax.api.AuroraXResponse.request">request</a></code></li>
<li><code><a title="pyaurorax.api.AuroraXResponse.status_code" href="#pyaurorax.api.AuroraXResponse.status_code">status_code</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>